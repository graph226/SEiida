ユースケース

・ICカードによる改札の通過
前提条件：利用者のICカードの状態が改札内である。
事後条件：ICカードの清算が完了している。切符の返金がない。利用者は改札を通過している。

基本系列
1:改札機は利用者のICカードを受け付ける。
2:利用者はICカードを改札機のICカードパネルにかざす
3:改札はICカードの乗車駅を読み取り、現在駅との距離から運賃を計算する。
4:改札はICカードの残金から運賃を差し引き、値の更新を行う。
5:改札はバーを開ける
6:利用者は改札を通過する。

例外系列
2:改札機はICカードを読み取れなかった場合、バーを閉じ、再度ICカードをかざすよう促す。
4:改札機はiCカードの残金が足りなかった場合、バーを閉じ、清算もしくは入金を促す。

--------------------
・切符による改札の通過
前提条件：利用者の切符の状態が改札内にある
事後条件：切符が改札機内に格納される。利用者は改札を通過している。

基本系列
1:改札機は利用者の切符を受け付ける。
2:利用者は切符を改札機の挿入口に挿入する。
3:改札は切符の乗車駅と金額を読み取る。
4:改札は金額が足りているかどうか判定する。
5:金額が足りていれば、改札はバーを開ける
6:利用者は改札を通過する。

例外系列
2:改札機は切符以外のものが挿入された場合、排出口から挿入されたものを排出し、バーを閉じて、再挿入を促す。
4:改札機は切符の値段が足りなかった場合、バーを閉じて切符を排出し、清算を促す。

--------------------
・精算機による切符の清算
前提条件：利用者は額の不足した切符を購入している
事後条件：切符と引き換えに切符と同額の金額を利用者は得る

基本系列
1:精算機は利用者からの切符の挿入を待つ。
2:利用者は精算機に切符を挿入する。
3:精算機は切符の金額を排出口から排出する。
4:利用者は排出された金額を受け取る。

代替系列
4:金額が足りない場合、利用者は駅員に申し出て、足りない分の返金を得る。

--------------------
・精算機によるICカードの清算

前提条件：利用者は額の不足したICカード
事後条件：切符と引き換えに切符と同額の金額を利用者は得る

基本系列
1:精算機は利用者からの切符の挿入を待つ。
2:利用者は精算機に切符を挿入する。
3:精算機は切符の金額を排出口から排出する。
4:利用者は排出された金額を受け取る。

代替系列
4:金額が足りない場合、利用者は駅員に申し出て、足りない分の返金を得る。

